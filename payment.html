<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Payment</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
  <div id="site-header"></div>
  <main>
    <div class="payment-container">
      <h2>Complete Payment</h2>

      <div id="info" class="order-summary-card">
        <!-- Order details will be injected here -->
      </div>

      <div class="card">
        <h3>Select Payment Method</h3>
        <div id="payment-options">
          <div class="form-group">
            <label
              style="cursor:pointer; display:flex; align-items:center; gap:0.5rem; padding:1rem; border:1px solid #e0e0e0; border-radius:8px;">
              <input type="radio" name="paymentMethod" value="online" checked>
              <span style="font-weight:600; margin-left:8px;">Pay Online (UPI / QR)</span>
            </label>
          </div>
          <div class="form-group">
            <label
              style="cursor:pointer; display:flex; align-items:center; gap:0.5rem; padding:1rem; border:1px solid #e0e0e0; border-radius:8px;">
              <input type="radio" name="paymentMethod" value="cod">
              <span style="font-weight:600; margin-left:8px;">Cash on Delivery</span>
            </label>
          </div>
        </div>

        <!-- Online Payment Section -->
        <div id="online-section" style="display:block;">
          <div id="upi" style="display:none; text-align:center;">
            <div class="qr-box">
              <div style="font-weight:700; margin-bottom:1rem; color:var(--primary)">Scan QR to Pay</div>
              <div id="qrWrap"></div>
              <div id="upiLinkWrap"
                style="margin-top:1rem; font-size:0.9rem; color:var(--text-gray); word-break:break-all;"></div>
            </div>

            <button id="confirmOnline" class="btn" style="width:100%; font-size:1.1rem; padding:1rem;">
              I have paid
            </button>
          </div>

          <button id="payOnlineBtn" class="btn" style="width:100%; font-size:1.1rem; padding:1rem;">
            Proceed to Payment
          </button>
        </div>

        <!-- COD Section -->
        <div id="cod-section" style="display:none; text-align:center; padding-top:1rem;">
          <p style="color:var(--text-gray); margin-bottom:1.5rem">
            Confirm your order details. You will pay the delivery agent in cash upon arrival.
          </p>
          <button id="confirmCodBtn" class="btn btn-secondary" style="width:100%; font-size:1.1rem; padding:1rem;">
            Place Order (COD)
          </button>
        </div>
      </div>
    </div>
  </main>
  <script src="assets/js/utils.js"></script>
  <script src="assets/js/header.js"></script>
  <script src="assets/js/api.js"></script>
  <script src="assets/js/payment.js"></script>
</body>

</html>